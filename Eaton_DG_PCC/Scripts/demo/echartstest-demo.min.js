/// <reference path="echarts-demotest.js" />


$(function () {
    var xx = document.getElementById("tests").value;
    var t = echarts.init(document.getElementById("echarts-bar-chart")), n =
        {

            title: { text: "设备每月产量和不良率" },
            tooltip: { trigger: "axis" },
            legend: { data: ["不良率", "每月产量"] },
            grid: { x: 100, x2: 40, y2: 24 },
            calculable: !0,
            xAxis: [{ type: "category", data: ["1月", "2月", "3月", "4月", "5月", "6月", "7月", "8月", "9月", "10月", "11月", "12月"] }],
            yAxis: [{ type: "value" }],
            series: [
                {
                    
                    name: "不良率", type: "bar", data: [206, 409, 7, 232, 256, 767, 136, 162, 326, 250, 64, 313],
                    markPoint: { data: [{ type: "max", name: "最大值" }, { type: "min", name: "最小值" }] },
                    markLine: { data: [{ type: "average", name: "平均值" }] }
                },
                {
                    name: "每月产量", type: "bar", data: [xx, 76665, 79669, 72656, 70287, 97550, 81175, 75182, 85548, 75518, 70006, 95552],
                    markPoint: {
                        data: [{ name: "年最高", value: 97550, xAxis: 5, yAxis: 97550, symbolSize: 20 },
                            { name: "年最低", value: 70006, xAxis: 10, yAxis: 70006, symbolSize: 20 }]
                    }, markLine: { data: [{ type: "average", name: "平均值" }] }
                }]
        };
    t.setOption(n), window.onresize = t.resize;


    var l = echarts.init(document.getElementById("echarts-pie-chart")),
               u = {
                   title: { text: "产品生产数量对比", subtext: "SM和QT系列", x: "center" },
                   tooltip: { trigger: "item", formatter: "{a} <br/>{b} : {c} ({d}%)" },
                   legend: { orient: "vertical", x: "left", data: ["SM09807", "SM09607", "SM07807", "QT09807", "QT08808"] },
                   calculable: !0, series: [{
                       name: "访问来源", type: "pie", radius: "55%", center: ["50%", "60%"],
                       data: [{ value: 335, name: "SM09807" },
                           { value: 310, name: "SM09607" },
                           { value: 234, name: "SM07807" },
                           { value: 135, name: "QT09807" },
                           { value: 1548, name: "QT08808" }]
                   }]
               }; l.setOption(u), $(window).resize(l.resize);



    var M = echarts.init(document.getElementById("echarts-gauge-chart")),
        x = {
            tooltip: { formatter: "{a} <br/>{c} {b}" },
            toolbox: {
                //show: !0, feature: { mark: { show: !0 }, restore: { show: !0 }, saveAsImage: { show: !0 } }
            },
            series: [
                {
                    name: "叶轮转速", type: "gauge", center: ["25%", "50%"],
                    radius: "80%", min: 0, max: 7, endAngle: -45, splitNumber: 7,
                    axisLine: { lineStyle: { width: 8 } },
                    axisTick: { length: 12, lineStyle: { color: "auto" } },
                    splitLine: { length: 20, lineStyle: { color: "auto" } },
                    pointer: { width: 5 }, title: { offsetCenter: [0, "-30%"] },
                    detail: { textStyle: { fontWeight: "bolder" } },
                    data: [{ value: 2.8, name: "x1000 r/min" }]
                }, {
                    name: "发电机转速", type: "gauge", center: ["75%", "50%"],
                    radius: "80%", min: 0, max: 7, endAngle: -45, splitNumber: 7,
                    axisLine: { lineStyle: { width: 8 } },
                    axisTick: { length: 12, lineStyle: { color: "auto" } },
                    splitLine: { length: 20, lineStyle: { color: "auto" } },
                    pointer: { width: 5 }, title: { offsetCenter: [0, "-30%"] },
                    detail: { textStyle: { fontWeight: "bolder" } },
                    data: [{ value: 1.5, name: "x1000 r/min" }]
                },

                










            //    {
            //        name: "速度", center: ["65%", "50%"], type: "gauge", min: 0, max: 220, splitNumber: 11,
            //    axisLine: { lineStyle: { width: 10 } },
            //    axisTick: { length: 15, lineStyle: { color: "auto" } },
            //    splitLine: { length: 20, lineStyle: { color: "auto" } },
            //    title: { textStyle: { fontWeight: "bolder", fontSize: 20, fontStyle: "italic" } },
            //    detail: { textStyle: { fontWeight: "bolder" } },
            //    data: [{ value: 40, name: "km/h" }]
            //}, 
            //{
            //    name: "油表", type: "gauge", center: ["75%", "50%"],
            //    radius: "50%", min: 0, max: 2, startAngle: 135, endAngle: 45, splitNumber: 2,
            //    axisLine: { lineStyle: { color: [[.2, "#ff4500"], [.8, "#48b"], [1, "#228b22"]], width: 8 } },
            //    axisTick: { splitNumber: 5, length: 10, lineStyle: { color: "auto" } },
            //    axisLabel: { formatter: function (e) { switch (e + "") { case "0": return "E"; case "1": return "Gas"; case "2": return "F" } } },
            //    splitLine: { length: 15, lineStyle: { color: "auto" } },
            //    pointer: { width: 2 }, title: { show: !1 },
            //    detail: { show: !1 },
            //    data: [{ value: .5, name: "gas" }]
            //}, {
            //    name: "水表", type: "gauge", center: ["75%", "50%"],
            //    radius: "50%", min: 0, max: 2, startAngle: 315, endAngle: 225, splitNumber: 2,
            //    axisLine: { lineStyle: { color: [[.2, "#ff4500"], [.8, "#48b"], [1, "#228b22"]], width: 8 } },
            //    axisTick: { show: !1 },
            //    axisLabel: { formatter: function (e) { switch (e + "") { case "0": return "H"; case "1": return "Water"; case "2": return "C" } } },
            //    splitLine: { length: 15, lineStyle: { color: "auto" } },
            //    pointer: { width: 2 }, title: { show: !1 },
            //    detail: { show: !1 },
            //    data: [{ value: .5, name: "gas" }]
            //}
            ]
        };
    M.setOption(x), $(window).resize(M.resize);

    


})


, $(function () {
    function e() {
        for (i.length && (i = i.slice(1)) ; i.length < t;) {
            var e = i.length ? i[i.length - 1] : 50, o = e + 10 * Math.random() - 5; i.push(0 > o ? 0 : o > 100 ? 100 : o)
        } for (var l = [], a = 0; a < i.length; ++a) l.push([a, i[a]]); return l
    }
    var o = $("#flot-line-chart-moving"), t = o.outerWidth() / 2 || 300, i = []; series = [{ data: e(), lines: { fill: !0 } }];
    var l = $.plot(o, series, {
        grid: {
            color: "#999999", tickColor: "#D4D4D4", borderWidth: 0, minBorderMargin: 20, labelMargin: 10,
            backgroundColor: { colors: ["#ffffff", "#ffffff"] },
            margin: { top: 8, bottom: 20, left: 20 },
            markings: function (e) {
                for (var o = [], t = e.xaxis, i = Math.floor(t.min) ;
                    i < t.max; i += 2 * t.tickSize) o.push({ xaxis: { from: i, to: i + t.tickSize }, color: "#fff" });
                return o
            }
        },
        colors: ["#1ab394"],
        xaxis: { tickFormatter: function () { return "" } },
        yaxis: { min: 0, max: 110 },
        legend: { show: !0 }
    }); setInterval(function () {
        series[0].data = e(), l.setData(series),
        l.draw()
    }, 40)
});
