$(function () {
    function e() {
        for (i.length && (i = i.slice(1)) ; i.length < t;) {
            var e = i.length ? i[i.length - 1] : 50, o = e + 10 * Math.random() - 5; i.push(0 > o ? 0 : o > 100 ? 100 : o)
        } for (var l = [], a = 0; a < i.length; ++a) l.push([a, i[a]]); return l
    }
    var o = $("#flot-line-chart-moving"), t = o.outerWidth() / 2 || 300, i = []; series = [{ data: e(), lines: { fill: !0 } }];
    var l = $.plot(o, series, {
        grid: {
            color: "#999999", tickColor: "#D4D4D4", borderWidth: 0, minBorderMargin: 20, labelMargin: 10,
            backgroundColor: { colors: ["#ffffff", "#ffffff"] },
            margin: { top: 8, bottom: 20, left: 20 },
            markings: function (e) {
                for (var o = [], t = e.xaxis, i = Math.floor(t.min) ;
                    i < t.max; i += 2 * t.tickSize) o.push({ xaxis: { from: i, to: i + t.tickSize }, color: "#fff" });
                return o
            }
        },
        colors: ["#390f8e"],
        xaxis: { tickFormatter: function () { return "" } },
        yaxis: { min: 0, max: 110 },
        legend: { show: !0 }
    }); setInterval(function () {
        series[0].data = e(), l.setData(series),
        l.draw()
    }, 40);


    var M = echarts.init(document.getElementById("echarts-gauge-chart")),
        x = {
            tooltip: { formatter: "{a} <br/>{c} {b}" },
            toolbox: {
                //show: !0, feature: { mark: { show: !0 }, restore: { show: !0 }, saveAsImage: { show: !0 } }
            },
            series: [
                {
                    name: "叶轮转速", type: "gauge", center: ["25%", "50%"],
                    radius: "80%", min: 0, max: 100, endAngle: -45, splitNumber: 10,
                    axisLine: { lineStyle: { width: 8 } },
                    axisTick: { length: 12, lineStyle: { color: "auto" } },
                    splitLine: { length: 20, lineStyle: { color: "auto" } },
                    pointer: { width: 5 }, title: { offsetCenter: [0, "-30%"] },
                    detail: { textStyle: { fontWeight: "bolder" } },
                    data: [{ value: 65, name: "%RH" }]
                }, {
                    name: "发电机转速", type: "gauge", center: ["75%", "50%"],
                    radius: "80%", min: 0, max: 7, endAngle: -45, splitNumber: 7,
                    axisLine: { lineStyle: { width: 8 } },
                    axisTick: { length: 12, lineStyle: { color: "auto" } },
                    splitLine: { length: 20, lineStyle: { color: "auto" } },
                    pointer: { width: 5 }, title: { offsetCenter: [0, "-30%"] },
                    detail: { textStyle: { fontWeight: "bolder" } },
                    data: [{ value: 1.5, name: "x1000 r/min" }]
                },
            ]
        };
    M.setOption(x), $(window).resize(M.resize);


});

